<!DOCTYPE HTML>
<html>
    <head>
        <title>Vision 2021</title>
        <meta charset="UTF-8">
        <link href="test.css" rel="stylesheet" type="text/css">
        <meta name="viewport" content="width=device-width, maximum-scale=1.0, minimum-scale=1, user-scalable=yes,initial-scale=1.0" />
    </head>


    <body style="margin:0px; background-Color: #EBE8E4;">
        
        <a href="index.html" id="sub-title">
        PORTFOLIO
        </a>
        
        <button id='modebutton' onclick="themetoggle()">
        ğŸŒ– 
        </button>

        <ul id="list1">
        <div id="grid">
            <div>
            <li>
            <a href="uplist1.html" title="What is HTML?" id="uplist">
            What is HTML?</a>
            </li>
            </div>
            <div>
            <li>
            <a href="uplist2.html" title="HTML Tag?" id="uplist">
            HTML Tag</a>
            </li>
            </div>
            <div>
            <li>
            <a href="uplist3.html" title="My Vision 2022" id="uplist">
            My Vision 2022</a>
            </li>
            </div>
        </div>
        </ul>

        <script>
        var mode = document.querySelector('body').style;
        var title = document.querySelector('#sub-title').style;
        var list = document.querySelector('#list1').style;
        var change = document.getElementById('modebutton');
            function themedark() {
                mode.backgroundColor='#BEBABF';
                mode.color='black';
                mode.transition = '.5s background, .4s color';
                title.backgroundColor = '#171C26';
                title.color = 'white';
                title.transition = '.5s background, .4s color';
                list.backgroundColor = '#747C8C';
                list.color='white';
                list.transition = '.5s background, .4s color';
                localStorage.setItem('theme', 'themedark');
            }
            function themelight() {
                mode.backgroundColor='#EBE8E4';
                mode.color='black';
                mode.transition = '.5s background, .4s color';
                title.backgroundColor = '#BACAC0';
                title.color = 'black';
                title.transition = '.5s background, .4s color';
                list.backgroundColor = '#193b59';
                list.color='white';
                list.transition = '.5s background, .4s color';
                localStorage.setItem('theme', 'themelight');
            }
            function themetoggle(){
                if(localStorage.getItem('theme')==='themedark'){
                    themelight();
                    change.innerHTML = 'ğŸŒ–';
                }else{
                    themedark();
                    change.innerHTML = 'â˜€ï¸';
                }
            }
            
            if(localStorage.getItem('theme')==='themedark'){
                    themedark();
                    change.innerHTML = 'â˜€ï¸';
                }else{
                    themelight;
                    change.innerHTML = 'ğŸŒ–';
                }
            
        </script>
        
        <p style = "text-align: center">
        To Do List
        <p>
        <form class="js-todoform">
                <input type="text"  placeholde = 'Write'/>
        </form>        


        <ul class="js-todolist">
        </ul>
        
        <script>
        const todoform = document.querySelector(".js-todoform");
        const todoinput = todoform.querySelector("input"); //input íƒœê·¸ì´ë¦„ì„ ê°€ì§€ëŠ” todoformì—ì„œ
        const todolist = document.querySelector(".js-todolist");
 
        const TODO_LS = "todo";
 
        let todos = []; // í• ì¼ì„ ì €ì¥í•  ë°°ì—´

        function deletetodo(event){
                 //.target : íƒ€ê²Ÿì˜ ë¶€ëª¨, ì—¬ê¸°ì„œëŠ” idë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì§€ìš¸ê±°ë‹¤.
                 const btn = event.target;
                 const li = btn.parentNode;
                 todolist.removeChild(li); //HTMLì—ì„œë§Œ ì‚­ì œëœë‹¤.
                 const cleantodos = todos.filter(function(arr){
            return arr.id !== parseInt(li.id);
                  }); //cleantodos ëŠ” ì¤„ì–´ë“¤ì§€ë§Œ todos ëŠ” ê·¸ëŒ€ë¡œë‹¤.
                 //filterëŠ” arrayì˜ ëª¨ë“  ì•„ì´í…œì„ í†µí•´ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³ \
                 //trueì¸ ì•„ì´í…œë“¤ë§Œ ê°€ì§€ê³  ìƒˆë¡œìš´ arrayë¥¼ ë§Œë“¬
         todos = cleantodos;
          savetodo();
        }
 
        function savetodo(){
          localStorage.setItem(TODO_LS,JSON.stringify(todos)); 
          //local ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•˜ê¸°ìœ„í•¨, ê·¼ë° JSëŠ” stringë§Œ ì €ì¥í•  ìˆ˜ ìˆë‹¤.
          //ê·¸ê²Œ JSON stringfy
        }
        
        function painttodo(text){
           const li = document.createElement("li"); //HTMLì„ ìš°ë¦¬ê°€ ì›í•˜ëŠ”ê±¸ ë§Œë“ ë‹¤.
           const deletebtn = document.createElement("button");
                 deletebtn.innerText = "ì‚­ì œ";
           
           const Donebtn = document.createElement("button");
                 Donebtn.innerText = "ì™„ë£Œ";
                 Donebtn.className = 'donebtn';
                 Donebtn.style.backgroundColor = "black"
                 Donebtn.onclick = function(){
                         if(Donebtn.style.backgroundColor === "black"){
                                 Donebtn.style.backgroundColor = "green";
                         }else{
                                 Donebtn.style.backgroundColor = "black";
                         }
                 }           


            const span = document.createElement("span");
            const newID = todos.length+1; // liì— ì•„ì´ë””ë¥¼ ì£¼ê¸°ìœ„í•¨
           deletebtn.addEventListener('click',deletetodo);//í´ë¦­í–ˆì„ë•Œ ì§€ì›€
           span.innerText = text;
           li.appendChild(span);
           li.appendChild(deletebtn);
           li.appendChild(Donebtn);
          //ë¹„ì–´ìˆëŠ” liì— ë²„íŠ¼ë§Œë“¤ê³  sapnë„ ë§Œë“¤ê³  liì•ˆì— spanë„ ë„£ê³ 
           //spanì„ liì•ˆì— ë„£ê³  ë²„íŠ¼ì„ liì•ˆì— ë„£ìŒ
           todolist.appendChild(li);//ê·¸ë¦¬ê³  ì´ lië¥¼ ulì— ë„£ìŒ
 
          //ì›¹ ì°½ì—ì„œ ì—”í„°ë¥¼ ëˆŒë €ì„ë•Œ, ì—˜ë¦¬ë¨¼íŠ¸ê°€ ë§Œë“¤ì–´ì§
          //jsë¡œ ì›í•˜ëŠ” íƒœê·¸ì— ë¬´ì–¸ê°€ë¥¼ ë§Œë“¤ê³  ì´ë²¤íŠ¸ë¡œì„œ ë§Œë“¬
           li.id = newID;
          const todoobj = {
              text: text,
              id: newID
          };
           todos.push(todoobj); // ì´ ê°ì²´ë¥¼ ë°°ì—´ì— ì €ì¥í–ˆë‹¤.
           savetodo();
        }
 
        function handle(event){
          event.preventDefault();
           const currentval = todoinput.value;
           painttodo(currentval);
           todoinput.value = "";
        }
 
        function loadtodo(){
            const loadtodos = localStorage.getItem(TODO_LS);
            if(loadtodos !== null){
                const parsetodo = JSON.parse(loadtodos); // ì˜¤ë¸Œì íŠ¸ë¡œ ë³€í™˜
               parsetodo.forEach(function(a) {
                    painttodo(a.text); // ìƒˆë¡œê³ ì¹¨ì„ í•´ë„ ë¡œì»¬ ë°ì´í„°ì— ìˆê¸°ë•Œë¬¸ì— ì…ë ¥ê°’ì´ ê³„ì† ëœ¬ë‹¤.
                });
            }
        }
 
        function init(){
          loadtodo();
           todoform.addEventListener("submit",handle);
        }
 
init();
        </script>



        
        <ul id="list">
            <li>Support
            <li>Credit
        </ul>
       

    </body>





</html>
